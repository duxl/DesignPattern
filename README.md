# 设计模式



## 创建型模式（关注对象的创建过程）

### [单例模式](src/a/b/c/singleton)

[饿汉式](src/a/b/c/singleton/Test01.java) （线程安全，调用效率高。但是不能延迟加载）

[懒汉式](src/a/b/c/singleton/Test02.java) （线程安全，调用效率不高。但是可以延迟加载）

[双重检测锁](src/a/b/c/singleton/Test03.java) （由于JVM底层内部模型原因，偶尔会出问题，**不建议使用**）

[静态内部类](src/a/b/c/singleton/Test04.java) （线程安全，调用效率高，可以延迟加载）

[枚举](src/a/b/c/singleton/Test05.java) （线程安全，调用效率高，不能延迟加载。天然防止反射和反序列化）



### [工厂模式](/src/a/b/c/factory)

[简单工厂](/src/a/b/c/factory/simple) （如果新增实现，需要修改代码，违背开闭原则，但实际使用最多）

[工厂方法](/src/a/b/c/factory/method) （如果新增实现，只需要新增对应的工厂即可，满足开闭原则，但类的数量较多）

[抽象工厂](/src/a/b/c/factory/abstractt) （不可以增加产品，可以增加产品族） 



### [构建者模式](/src/a/b/c/builder)

**白话文解说什么是构建者模式：**

 一个大产品（飞船-AirShip）包含很多的小产品（引擎-Engine、逃逸塔-EscapeTower、轨道舱-OrbitalModule） 

*1、先用一个构建器（AirShipBuilder）构建各个小产品，* 

*2、然后将这个构建器传给组装器（AirShipDirector）进行组装* 

*3、最后通过这个组装器拿到组装后的大产品*



### [原型模式](/src/a/b/c/prototype)（克隆模式）

原型模式的深克隆有两种方式实现：1使用Object的clone()方法；2使用序列化和反序列化

ps：通过new一个对象很耗时，或者平凡的new对象后很快释放对象的情况，可以考虑使用原型模式





## 结构性模式（关注对象和类的组织）

### [适配器模式](/src/a/b/c/adapter)



### [代理模式](/src/a/b/c/proxy)

[静态代理](/src/a/b/c/proxy/stati)

[动态代理](/src/a/b/c/proxy/dynamic)



### [桥连模式](/src/a/b/c/bridge)

白话文理解桥连模式，生活中的例子：电脑的类型有台式机、笔记本、平板，而电脑又分品牌联想、戴尔等等。常规我们建类的方式就像下图一样

![not_bridge](/pics/not_bridge.png)

这样设计对于扩展是有问题的，如果新增了一个类型比如手机，需要在手机下面添加各个品牌，反之如果要添加一个品牌华硕，需要在所有类型下添加华硕，为了解决这个问题，就有了桥连模式

桥连模式是用组合的方式，一台电脑包含类型和品牌，通过一个中间类将类型和品牌联系在一起

*（ps：本人好像对**侨连模式**和**构建者模式**有点分不清了）*



### [装饰模式](/src/a/b/c/decorator) 

**特点：** 动态的为一个对象增加新的功能，无须通过继承增加子类就能扩展对象的新功能

**实现：** 接口A、具体类M、装饰器N

M实现接口A，N持有M的引用同时也实现接口A，N实现接口A的的时候调用了M引用的实现



### [外观模式](/src/a/b/c/facade)

就是面向对象编程的封装，一个功能需要调用很多方法步骤，把这些步骤封装到一个api中，这种方式就是外观模式



### [享元模式](/src/a/b/c/flyweight)

**生活中的例子：**

这里模拟围棋，围棋的棋子有很多，使用享元模式把所有的棋子设计成白色和黑色两个对象，在使用棋子时用这两个对象不断的改变棋子位置达到最终目的

**开发中应用场景：**

享元模式由于其共享的特性，可以在任何“池”中操作，比如：线程池、数据库连接池

String类的设计也是享元模式（字符串池）





## 行为型模式（关注对象之间相互交互、通信和协作）

### [责任链模式](/src/a/b/c/chain)

定义：将能够处理同一类请求的对象连成一条链，所提交的请求沿着链传递，链上的对象租个判断是否有能力处理该请求，如果能则处理，如果不能则传递给链上的下一个对象。



### [观察者模式](/src/a/b/c/observer)



### [中介者模式](/src/a/b/c/mediator)

**生活中的例子：**

一个公司的开发部和财务不能直接打交道，需要总经理在中间起协调工作。开发部需要资金的时候不能直接向财务部拿，需要向总经理审批。总经理就是`中介者`角色，开发部和财务部就是`同事`角色

还有房产中介也是一个典型的中介者模式



### [迭代器模式](/src/a/b/c/iterator)

### [备忘录模式](/src/a/b/c/memento)

### 命令模式

### 解释器模式

### 策略模式

### 模板方法模式